<!DOCTYPE HTML> 
<html>
<body>
<canvas id="e" width="300" height="300" tabindex="0" style="border:1px solid #c3c3c3;" onmousemove="coordinate(event)"> Your browser does not support the canvas element.
</canvas>
<script type="text/javascript">
    var canvas = document.getElementById("e"); 
    var ctx = canvas.getContext("2d");
    var mapArray = [[0,0,0],
                    [0,0,1],
                    [0,1,0]];
    var cellSize = 100;
    var mainChar = [1,0]; 
    var timeCounter = 1.0;
    var x = 0, y = 0;
    canvas.addEventListener( "keydown", doKeyDown, true);
    function coordinate(e){
        x = e.clientX - canvas.offsetLeft;
        y = e.clientY - canvas.offsetTop;
        var coor = "Coordinates: (" + x + "," + y + ")";
        document.getElementById("coor").innerHTML = coor;
    }
    
    function draw(){ 
        ctx.clearRect(0,0,300,300);
        for(var i in mapArray){
            for (var j in mapArray[i]){
                if (mapArray[i][j] == 1){ 
                    ctx.fillStyle="#DDDDDD";
                    ctx.fillRect(i*cellSize,j*cellSize,100,100);
                }
            }
        }
    
        if ( (x==50 && 50<=y<=300)||(y==50 && 50<=x<=300)||(x<=150 && y<=150)){
            ctx.beginPath();
            ctx.arc(x,y,50,0,Math.PI*2,true); 
            ctx.fillStyle="#F2CC3E";
            ctx.closePath(); 
            ctx.fill(); 
        }

    timeCounter += 1;
    }
    
    function doKeyDown(e){
        alert(e);
    }
    
    setInterval(draw,10);
</script> 
    <div id="coor"></div>
    </body> </html>